<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KIC Examples</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; padding: 20px; }
    </style>
</head>
<body>

    <!-- npx live-server --port=5500 -->
    <div id="app">

        <label>
            First Name:
            <input type="text" kic-bind="kic.model.name">
        </label>

        <label>
            Last Name:
            <input type="text" kic-bind="kic.test.name">
        </label>

        <br />
        <br />

        <button onclick="handleShowHide()">Edit</button>
        <button onclick="handleAddCar()">Add</button>

        <div kic-hide="kic.settings.edit">
            <h4>Cars</h4>
            <table>
                <thead>
                    <tr>
                        <td>No</td>
                        <td>Brand</td>
                        <td>Serial</td>
                    </tr>
                </thead>
                <tbody>
                    <tr kic-foreach="car in kic.model.cars">
                        <td></td>
                        <td>{{car.brand}}</td>
                        <td>{{car.serial}}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div kic-show="kic.settings.edit">
            <h4>Cars</h4>
            <table>
                <thead>
                    <tr>
                        <td>Brand</td>
                        <td>Serial</td>
                    </tr>
                </thead>
                <tbody>
                    <tr kic-foreach="car in kic.model.cars">
                        <td><input type="text" kic-bind="car.brand"></td>
                        <td><input type="text" kic-bind="car.serial"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <br />
        <br />

        <p>{{ kic }}</p>
        <p>{{ kic.model.name }}</p>
        <p>{{ kic.model.cars }}</p>
        <p>{{ kic.model.cars[1] }}</p>
        <p>{{ kic.model.cars[1].brand }}</p>
        <p>{{ kic.model.name}}, {{ kic.model.cars[0].brand}}, {{ kic.model.colors[1] }} </p>

    </div>
       
    <script src="./src/kic.js"></script>
    <script>
        var dataset = { test:{name:"Andersson"}, settings:{ edit:true }, model:{ name: "Johnny", cars:[{brand:"Volvo", serial:"v1234"}, {brand:"Ford", serial:"f2345"}]}};
        var appElement = document.getElementById("app");
        var kicapp = getKICApp(appElement);
        kicapp.mount(dataset);

        function handleShowHide()
        {
            var t = kicapp.getData();
            t.settings.edit = !t.settings.edit;
            t.model.newstuff="hello";
            t.model.colors=["green","red"];
        }

        function handleAddCar()
        {
            var car = {brand:"Audi", serial:"v8888"};
            var t = kicapp.getData();
            t.model.cars.push(car);
        }

        
    </script>

</body>
</html>